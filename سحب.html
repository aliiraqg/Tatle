<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سحب الأرباح</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>سحب الأرباح</h1>

        <!-- عرض رصيد النقاط الحالي -->
        <div class="balance">
            <p>رصيد النقاط الخاص بك: <span id="currentPoints">0</span></p>
        </div>

        <!-- إدخال المبلغ ورقم الحساب -->
        <div>
            <label for="withdrawAmount">أدخل المبلغ:</label>
            <input type="number" id="withdrawAmount" placeholder="أدخل المبلغ" required>
        </div>

        <!-- زر لسحب الرصيد -->
        <button class="submit" id="submitWithdrawal">سحب الأرباح</button>

        <!-- رسالة النجاح أو الخطأ -->
        <div id="message"></div>
    </div>

    <script>
        // دالة لاسترجاع النقاط من URL
        function getQueryParameter(param) {
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // استرجاع النقاط من URL
        let points = parseInt(getQueryParameter('points'), 10);
        if (points) {
            document.getElementById('currentPoints').textContent = points;
        }

        // عند النقر على زر السحب
        document.getElementById('submitWithdrawal').addEventListener('click', function () {
            let withdrawAmount = parseInt(document.getElementById('withdrawAmount').value, 10);

            if (withdrawAmount <= points && withdrawAmount > 0) {
                points -= withdrawAmount; // خصم المبلغ المسحوب من النقاط
                document.getElementById('currentPoints').textContent = points;
                document.getElementById('message').textContent = `تم سحب ${withdrawAmount} نقطة بنجاح!`;
            } else {
                document.getElementById('message').textContent = 'المبلغ غير صالح أو غير كافٍ.';
            }
        });
    </script>
</body>
</html>
